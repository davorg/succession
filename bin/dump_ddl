#!/bin/bash
set -euo pipefail

dir="$(cd "$(dirname "$0")" && pwd)"
# shellcheck source=bin/func_defs
. "$dir/func_defs"

check_vars
mkdir -p "$dir/../data"

out="$dir/../data/succession.ddl"

db="$(sqlite_db_path)"
echo "Dumping SQLite DDL: $db â†’ $out"
# .schema prints CREATE statements (tables, indexes, triggers, views)
sqlite3 "$db" .schema > "$out"

echo "Wrote $out"

